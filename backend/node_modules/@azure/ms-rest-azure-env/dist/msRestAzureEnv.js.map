{"version":3,"file":"msRestAzureEnv.js","sources":["../lib/azureEnvironment.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n\nexport interface EnvironmentParameters {\n  /**\n   * The Environment name.\n   */\n  readonly name: string;\n\n  /**\n   * The management portal URL.\n   */\n  readonly portalUrl: string;\n\n  /**\n   * The management service endpoint.\n   */\n  readonly managementEndpointUrl: string;\n\n  /**\n   * The resource management endpoint.\n   */\n  readonly resourceManagerEndpointUrl: string;\n\n  /**\n   * The Active Directory login endpoint.\n   */\n  readonly activeDirectoryEndpointUrl: string;\n\n  /**\n   * The resource ID to obtain AD tokens for (token audience).\n   */\n  readonly activeDirectoryResourceId: string;\n\n  /**\n   * The publish settings file URL.\n   */\n  readonly publishingProfileUrl?: string;\n\n  /**\n   * The sql server management endpoint for mobile commands.\n   */\n  readonly sqlManagementEndpointUrl?: string;\n\n  /**\n   * The dns suffix for sql servers.\n   */\n  readonly sqlServerHostnameSuffix?: string;\n\n  /**\n   * The template gallery endpoint.\n   */\n  readonly galleryEndpointUrl?: string;\n\n  /**\n   * The Active Directory resource ID.\n   */\n  readonly activeDirectoryGraphResourceId?: string;\n\n  /**\n   * The batch resource ID.\n   */\n  readonly batchResourceId?: string;\n\n  /**\n   * The Active Directory api version.\n   */\n  readonly activeDirectoryGraphApiVersion?: string;\n\n  /**\n   * The endpoint suffix for storage accounts.\n   */\n  readonly storageEndpointSuffix?: string;\n\n  /**\n   * The keyvault service dns suffix.\n   */\n  readonly keyVaultDnsSuffix?: string;\n\n  /**\n   * The data lake store filesystem service dns suffix.\n   */\n  readonly azureDataLakeStoreFileSystemEndpointSuffix?: string;\n\n  /**\n   * The data lake analytics job and catalog service dns suffix.\n   */\n  readonly azureDataLakeAnalyticsCatalogAndJobEndpointSuffix?: string;\n\n  /**\n   * Determines whether the authentication endpoint should be validated with Azure AD. Default value is true.\n   */\n  readonly validateAuthority?: boolean;\n}\n\nexport class Environment {\n  /**\n   * The Environment name.\n   */\n  readonly name: string;\n\n  /**\n   * The management portal URL.\n   */\n  readonly portalUrl: string;\n\n  /**\n   * The management service endpoint.\n   */\n  readonly managementEndpointUrl: string;\n\n  /**\n   * The resource management endpoint.\n   */\n  readonly resourceManagerEndpointUrl: string;\n\n  /**\n   * The Active Directory login endpoint.\n   */\n  readonly activeDirectoryEndpointUrl: string;\n\n  /**\n   * The resource ID to obtain AD tokens for (token audience).\n   */\n  readonly activeDirectoryResourceId: string;\n\n  /**\n   * The publish settings file URL.\n   */\n  readonly publishingProfileUrl?: string;\n\n  /**\n   * The sql server management endpoint for mobile commands.\n   */\n  readonly sqlManagementEndpointUrl?: string;\n\n  /**\n   * The dns suffix for sql servers.\n   */\n  readonly sqlServerHostnameSuffix?: string;\n\n  /**\n   * The template gallery endpoint.\n   */\n  readonly galleryEndpointUrl?: string;\n\n  /**\n   * The batch resource ID.\n   */\n  readonly batchResourceId?: string;\n\n  /**\n   * The Active Directory resource ID.\n   */\n  readonly activeDirectoryGraphResourceId?: string;\n\n  /**\n   * The Active Directory api version.\n   */\n  readonly activeDirectoryGraphApiVersion?: string;\n\n  /**\n   * The endpoint suffix for storage accounts.\n   */\n  readonly storageEndpointSuffix?: string;\n\n  /**\n   * The keyvault service dns suffix.\n   */\n  readonly keyVaultDnsSuffix?: string;\n\n  /**\n   * The data lake store filesystem service dns suffix.\n   */\n  readonly azureDataLakeStoreFileSystemEndpointSuffix?: string;\n\n  /**\n   * The data lake analytics job and catalog service dns suffix.\n   */\n  readonly azureDataLakeAnalyticsCatalogAndJobEndpointSuffix?: string;\n\n  /**\n   * Determines whether the authentication endpoint should be validated with Azure AD. Default value is true.\n   */\n  readonly validateAuthority: boolean = true;\n\n  constructor(parameters: EnvironmentParameters) {\n\n    if (!parameters || typeof parameters !== \"object\") {\n      throw new Error(\"'parameters' is a required parameter and must be of type 'object'.\");\n    }\n\n    // Validate required parameters\n    const requiredParams = [\"name\", \"portalUrl\", \"managementEndpointUrl\", \"resourceManagerEndpointUrl\",\n      \"activeDirectoryEndpointUrl\", \"activeDirectoryResourceId\"];\n    requiredParams.forEach(function (param) {\n      if (!(<any>parameters)[param] || typeof (<any>parameters)[param].valueOf() !== \"string\") {\n        throw new Error(`Please provide \"${param}\" for the environment and it must be of type \"string\".`);\n      }\n    });\n\n    this.name = parameters.name;\n    this.portalUrl = parameters.portalUrl;\n    this.managementEndpointUrl = parameters.managementEndpointUrl;\n    this.resourceManagerEndpointUrl = parameters.resourceManagerEndpointUrl;\n    this.activeDirectoryEndpointUrl = parameters.activeDirectoryEndpointUrl;\n    this.activeDirectoryResourceId = parameters.activeDirectoryResourceId;\n    if (this.activeDirectoryGraphApiVersion) {\n      this.activeDirectoryGraphApiVersion = parameters.activeDirectoryGraphApiVersion;\n    }\n    if (this.activeDirectoryGraphResourceId) {\n      this.activeDirectoryGraphResourceId = parameters.activeDirectoryGraphResourceId;\n    }\n    if (this.azureDataLakeAnalyticsCatalogAndJobEndpointSuffix) {\n      this.azureDataLakeAnalyticsCatalogAndJobEndpointSuffix = parameters.azureDataLakeAnalyticsCatalogAndJobEndpointSuffix;\n    }\n\n    if (this.azureDataLakeStoreFileSystemEndpointSuffix) {\n      this.azureDataLakeStoreFileSystemEndpointSuffix = parameters.azureDataLakeStoreFileSystemEndpointSuffix;\n    }\n\n    if (this.batchResourceId) {\n      this.batchResourceId = parameters.batchResourceId;\n    }\n\n    if (this.galleryEndpointUrl) {\n      this.galleryEndpointUrl = parameters.galleryEndpointUrl;\n    }\n\n    if (this.keyVaultDnsSuffix) {\n      this.keyVaultDnsSuffix = parameters.keyVaultDnsSuffix;\n    }\n\n    if (this.publishingProfileUrl) {\n      this.publishingProfileUrl = parameters.publishingProfileUrl;\n    }\n\n    if (this.sqlManagementEndpointUrl) {\n      this.sqlManagementEndpointUrl = parameters.sqlManagementEndpointUrl;\n    }\n\n    if (this.sqlServerHostnameSuffix) {\n      this.sqlServerHostnameSuffix = parameters.sqlServerHostnameSuffix;\n    }\n\n    if (this.storageEndpointSuffix) {\n      this.storageEndpointSuffix = parameters.storageEndpointSuffix;\n    }\n  }\n\n  static add(parameters: EnvironmentParameters): void {\n    const envContainer: { [name: string]: Environment } = {};\n    const envObj = new Environment(parameters);\n    envContainer[parameters.name] = envObj;\n    Object.assign(Environment, envContainer);\n    return;\n  }\n\n  static get(name: string): Environment {\n    if (!name) {\n      throw new TypeError(\"name cannot be null or undefined and must be of type string.\");\n    }\n    return (Environment as any)[name];\n  }\n\n  static readonly AzureCloud = {\n    name: \"AzureCloud\",\n    portalUrl: \"https://portal.azure.com\",\n    publishingProfileUrl: \"https://go.microsoft.com/fwlink/?LinkId=254432\",\n    managementEndpointUrl: \"https://management.core.windows.net\",\n    resourceManagerEndpointUrl: \"https://management.azure.com/\",\n    sqlManagementEndpointUrl: \"https://management.core.windows.net:8443/\",\n    sqlServerHostnameSuffix: \".database.windows.net\",\n    galleryEndpointUrl: \"https://gallery.azure.com/\",\n    activeDirectoryEndpointUrl: \"https://login.microsoftonline.com/\",\n    activeDirectoryResourceId: \"https://management.core.windows.net/\",\n    activeDirectoryGraphResourceId: \"https://graph.windows.net/\",\n    batchResourceId: \"https://batch.core.windows.net/\",\n    activeDirectoryGraphApiVersion: \"2013-04-05\",\n    storageEndpointSuffix: \"core.windows.net\",\n    keyVaultDnsSuffix: \".vault.azure.net\",\n    azureDataLakeStoreFileSystemEndpointSuffix: \"azuredatalakestore.net\",\n    azureDataLakeAnalyticsCatalogAndJobEndpointSuffix: \"azuredatalakeanalytics.net\",\n    validateAuthority: true\n  };\n  static readonly ChinaCloud = {\n    name: \"AzureChinaCloud\",\n    portalUrl: \"https://portal.azure.cn\",\n    publishingProfileUrl: \"https://go.microsoft.com/fwlink/?LinkID=301774\",\n    managementEndpointUrl: \"https://management.core.chinacloudapi.cn\",\n    resourceManagerEndpointUrl: \"https://management.chinacloudapi.cn\",\n    sqlManagementEndpointUrl: \"https://management.core.chinacloudapi.cn:8443/\",\n    sqlServerHostnameSuffix: \".database.chinacloudapi.cn\",\n    galleryEndpointUrl: \"https://gallery.chinacloudapi.cn/\",\n    activeDirectoryEndpointUrl: \"https://login.chinacloudapi.cn/\",\n    activeDirectoryResourceId: \"https://management.core.chinacloudapi.cn/\",\n    activeDirectoryGraphResourceId: \"https://graph.chinacloudapi.cn/\",\n    activeDirectoryGraphApiVersion: \"2013-04-05\",\n    batchResourceId: \"https://batch.chinacloudapi.cn/\",\n    storageEndpointSuffix: \"core.chinacloudapi.cn\",\n    keyVaultDnsSuffix: \".vault.azure.cn\",\n    // TODO: add dns suffixes for the china cloud for datalake store and datalake analytics once they are defined.\n    azureDataLakeStoreFileSystemEndpointSuffix: \"N/A\",\n    azureDataLakeAnalyticsCatalogAndJobEndpointSuffix: \"N/A\",\n    validateAuthority: true\n  };\n  static readonly USGovernment = {\n    name: \"AzureUSGovernment\",\n    portalUrl: \"https://portal.azure.us\",\n    publishingProfileUrl: \"https://manage.windowsazure.us/publishsettings/index\",\n    managementEndpointUrl: \"https://management.core.usgovcloudapi.net\",\n    resourceManagerEndpointUrl: \"https://management.usgovcloudapi.net\",\n    sqlManagementEndpointUrl: \"https://management.core.usgovcloudapi.net:8443/\",\n    sqlServerHostnameSuffix: \".database.usgovcloudapi.net\",\n    galleryEndpointUrl: \"https://gallery.usgovcloudapi.net/\",\n    activeDirectoryEndpointUrl: \"https://login.microsoftonline.us/\",\n    activeDirectoryResourceId: \"https://management.core.usgovcloudapi.net/\",\n    activeDirectoryGraphResourceId: \"https://graph.windows.net/\",\n    batchResourceId: \"https://batch.core.usgovcloudapi.net/\",\n    activeDirectoryGraphApiVersion: \"2013-04-05\",\n    storageEndpointSuffix: \"core.usgovcloudapi.net\",\n    keyVaultDnsSuffix: \".vault.usgovcloudapi.net\",\n    azureDataLakeStoreFileSystemEndpointSuffix: \"N/A\",\n    azureDataLakeAnalyticsCatalogAndJobEndpointSuffix: \"N/A\",\n    validateAuthority: true\n  };\n  static readonly GermanCloud = {\n    name: \"AzureGermanCloud\",\n    portalUrl: \"https://portal.microsoftazure.de/\",\n    publishingProfileUrl: \"https://manage.microsoftazure.de/publishsettings/index\",\n    managementEndpointUrl: \"https://management.core.cloudapi.de\",\n    resourceManagerEndpointUrl: \"https://management.microsoftazure.de\",\n    sqlManagementEndpointUrl: \"https://management.core.cloudapi.de:8443/\",\n    sqlServerHostnameSuffix: \".database.cloudapi.de\",\n    galleryEndpointUrl: \"https://gallery.cloudapi.de/\",\n    activeDirectoryEndpointUrl: \"https://login.microsoftonline.de/\",\n    activeDirectoryResourceId: \"https://management.core.cloudapi.de/\",\n    activeDirectoryGraphResourceId: \"https://graph.cloudapi.de/\",\n    batchResourceId: \"https://batch.microsoftazure.de/\",\n    activeDirectoryGraphApiVersion: \"2013-04-05\",\n    storageEndpointSuffix: \"core.cloudapi.de\",\n    keyVaultDnsSuffix: \".vault.microsoftazure.de\",\n    azureDataLakeStoreFileSystemEndpointSuffix: \"N/A\",\n    azureDataLakeAnalyticsCatalogAndJobEndpointSuffix: \"N/A\",\n    validateAuthority: true\n  };\n}\n"],"names":[],"mappings":"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"}